(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){e.exports=a(249)},248:function(e,t,a){},249:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),c=a(60),o=a(4),i=a(14),s=Object(i.a)(),m=a(115),u=a(8),d=a(7),g=a(22),b=a.n(g),p=a(110),v=a.n(p),f=a(31),E=a.n(f),h=function(e){var t=e.title,a=e.message,n=e.onConfirm,l=e.onCancel;return r.a.createElement("div",{className:"fixed-cover-container flex align-center justify-center",style:{background:"rgba(0, 0, 0, 0.3)"}},r.a.createElement("div",{className:"card shadowed pad-20",style:{width:"100%",maxWidth:600}},r.a.createElement("div",{className:"txt-center txt-bold txt-large"},t),r.a.createElement("div",{className:"margin-top-20 txt-medium-large txt-center"},a),r.a.createElement("div",{className:"flex align-center space-between margin-top-50"},r.a.createElement("button",{className:"btn btn-clear btn-pad-large txt-dark",onClick:function(){return l()}},"Cancel"),r.a.createElement("button",{className:"btn btn-success btn-pad-large txt-dark",onClick:function(){return n()}},"Coninue"))))},x=function(e){var t=e.blog,a=e.deleteCallback,c=Object(n.useState)(!1),o=Object(d.a)(c,2),i=o[0],s=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card flex direction-column",style:{height:"100%"}},r.a.createElement("div",{style:{background:"#ccc"}},r.a.createElement("img",{className:"img img-cover",src:t.image?t.image:"https://picsum.photos/200/300",style:{width:"100%",height:200}})),r.a.createElement("div",{className:"pad-20 flex-1"},r.a.createElement("div",{className:"txt-small txt-uppercase"},t.category),r.a.createElement("div",{className:"txt-bold txt-large"},t.title),r.a.createElement("div",{className:"txt-xsmall margin-top"},"Posted: ",E()(t.post_date).format("MMMM DD, YYYY")),r.a.createElement("div",{className:"margin-top-10 txt-medium"},N(t.content,255))),r.a.createElement("div",{className:"margin-top-20 flex flex-end pad-20"},r.a.createElement("button",{onClick:function(){return s(!0)},className:"btn btn-clear-bordered-red btn-width-auto txt-small"},"Delete"),r.a.createElement(l.b,{to:"/blog/edit/".concat(t.uuid),className:"btn btn-clear-bordered-green btn-width-auto txt-small margin-left-20"},"Edit"),r.a.createElement(l.b,{to:"/blog/view/".concat(t.uuid),className:"btn btn-clear-bordered-black btn-width-auto txt-small margin-left-20"},"View"))),i?r.a.createElement(h,{title:"Confirm Action",message:"Are you sure you want to continue?",onConfirm:function(){b.a.delete("http://localhost:3001/blogs/".concat(t.uuid)).then(function(e){a(),s(!1)})},onCancel:function(){return s(!1)}}):null)},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return(e=e.replace(/(<([^>]+)>)/gi,""))&&e.length>t&&(e=e.substr(0,t+a.length<e.length?t:e.length-a.length)+a),e},y=a(32),j=a(250),O=a(251),C=a(252),k=function(e){var t=e.formGroupClassName,a=void 0===t?"":t,l=e.containerClassName,c=void 0===l?"":l,o=e.label,i=void 0===o?"":o,s=e.error,m=void 0===s?void 0:s,g=e.onKeyEnter,b=void 0!==g&&g,p=e.containerStyles,v=e.onChange,f=e.rightIcon,E=e.leftIcon,h=e.customButtons,x=e.hideClearBtn,N=void 0!==x&&x,k=e.pattern,F=Object(y.a)(e,["formGroupClassName","containerClassName","label","error","onKeyEnter","containerStyles","onChange","rightIcon","leftIcon","customButtons","hideClearBtn","pattern"]),_={},B=Object(n.useRef)(null),M="password"===F.type,A=Object(n.useState)(!1),D=Object(d.a)(A,2),q=D[0],K=D[1],Y=!1;return void 0===F.value&&(F.value=""),m?_.invalid=!0:void 0!==m&&(_.valid=!0),"password"===F.type&&(F.type=q?"text":"password"),"select"===F.type&&(F.type="text",Y=!0),F.numeric?("money"===F.numeric?F.onChange=function(e){return S(e,F.value?F.value:"",Object(u.a)({},F),v)}:F.onChange=function(e){return w(e,F.value?F.value:"",F.numeric,Object(u.a)({},F),v)},F.onBlur=function(e){"money"===F.numeric?S(e,F.value?F.value:F.min?F.min:0,Object(u.a)({},F),v,"blur"):w(e,F.value?F.value:F.min?F.min:0,F.numeric,Object(u.a)({},F),v)}):F.onChange=function(e){return I(e,Object(u.a)({},F),k,v)},Object(n.useEffect)(function(){F.numeric&&F.max&&("money"===F.numeric?S({target:{name:F.name,value:F.value}},F.value,Object(u.a)({},F),v):w({target:{name:F.name,value:F.value}},F.value?F.value:"",F.numeric,Object(u.a)({},F),v))},[F.max]),Object(n.useEffect)(function(){return function(){B.current=null}},[]),r.a.createElement("div",{className:"form-group-container relative-container ".concat(c," ").concat(F.disabled?"disabled":""),style:p},i?r.a.createElement("div",{className:"margin-bottom flex align-center"},i?r.a.createElement(j.a,{className:"txt-medium txt-regular"},i):null):null,r.a.createElement("div",{className:"relative-container ".concat(F.disabled?"no-pointer":"")},r.a.createElement(O.a,{className:a+" relative-container"},r.a.createElement("div",{className:"relative-container flex align-center"},E?r.a.createElement("div",{className:"txt-medium pad-left-10 no-pointer",tabIndex:"-1"},E):null,r.a.createElement("div",{id:F.name,className:"flex-1 ".concat(Y?"clickable":"")},r.a.createElement("div",{className:"".concat(Y?"no-pointer":""," flex")},r.a.createElement(C.a,Object.assign({innerRef:B,onKeyDown:function(e){"Enter"===e.key&&b&&b(e)}},_,F,{className:"form-control txt-medium-large"})))),!Y&&!F.disabled&&r.a.createElement(r.a.Fragment,null,h||null,N?null:r.a.createElement("button",{className:"control clear-form transitioned-fast ".concat(M?"":"pad-right-10"),onClick:function(){var e="";F.numeric&&F.min&&(e=F.min),F.onChange({target:{name:F.name,value:e}})},tabIndex:"-1"},r.a.createElement("i",{className:"fas fa-times-circle"})),M&&!F.disabled&&r.a.createElement("button",{className:"control clear-form transitioned-fast pad-right-10",onClick:function(){return K(!q)},tabIndex:"-1"},r.a.createElement("i",{className:"far fa-eye".concat(q?"-slash":"")})),f?r.a.createElement("div",{className:"txt-medium pad-right-10 no-pointer",tabIndex:"-1"},f):null),(Y||F.options&&F.options.length>0)&&!F.hideDropDownIcon&&r.a.createElement("button",{className:"control clear-form select-down no-pointer no-transition pad-left-10",tabIndex:"-1"},r.a.createElement("i",{className:"fas fa-caret-down txt-large"})))),Y&&F.options&&F.options.length>0?r.a.createElement("div",{className:"select-options txt-dark"},r.a.createElement("div",null,F.options.map(function(e){return r.a.createElement("div",{className:"option"},e.label)}))):null),m&&_.invalid&&r.a.createElement("div",{className:"flex flex-end margin-top form-control-error"},r.a.createElement("div",{className:"badge badge-error text-right txt-light txt-small"},r.a.createElement("div",{className:"flex"},r.a.createElement("i",{className:"fas fa-exclamation-circle margin-right pulse"}),r.a.createElement("div",null,m)))))},w=function(e,t,a,n,r){if(isNaN(e.target.value)||-1!==e.target.value.indexOf("."))r({target:{value:t,name:e.target.name}});else{var l=e.target.value;""!==l?("int"===a&&(l=parseInt(l),n.max&&l>parseInt(n.max)&&(l=parseInt(n.max).toString()),n.min&&parseFloat(l)<parseFloat(n.min)&&(l=parseFloat(n.min).toString())),l=l.toString()):n.min&&(l=n.min.toString()),r({target:{value:l,name:e.target.name}})}},S=function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"onChange";if(isNaN(e.target.value))n({target:{value:t,name:e.target.name}});else{var l=e.target.value;""!==l&&void 0!==l&&null!==l&&(!isNaN(a.max)&&parseFloat(l)>parseFloat(a.max)&&(l=parseFloat(a.max)),a.min&&parseFloat(l)<parseFloat(a.min)&&(l=parseFloat(a.min)),l=l.toString()),"blur"===r&&(l=(l=l?parseFloat(l).toFixed(2):a.min?a.min:"").toString()),n({target:{value:l,name:e.target.name}})}},I=function(e,t,a,n){t.max&&parseInt(t.max)<e.target.value.length&&(e.target.value=t.value),a&&(e.target.value=e.target.value.replace(a,"")),n(e)},F=a(38),_=a(112),B=a.n(_),M=a(113),A=(a(247),function(e){e.className,e.style;var t=e.onChange,a=Object(y.a)(e,["className","style","onChange"]),l=Object(n.useState)(a.value?F.EditorState.createWithContent(Object(F.convertFromRaw)(JSON.parse(a.value))):F.EditorState.createEmpty()),c=Object(d.a)(l,2),o=c[0],i=c[1],s=Object(n.useState)(),m=Object(d.a)(s,2),u=m[0],g=m[1];return r.a.createElement("div",null,a.label?r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(j.a,{className:"txt-medium txt-regular"},a.label)):null,r.a.createElement(M.Editor,{editorState:o,wrapperClassName:"redactor",editorClassName:"redactor-editor",toolbarClassName:"redactor-toolbar",onEditorStateChange:function(e){return i(e)},onContentStateChange:function(e){return g(n=e),void t({target:{value:B()(n),name:a.name}});var n},onBlur:function(){a.onBlur&&a.onBlur({target:{value:JSON.stringify(u),name:"".concat(a.name,"_draft")}})},onFocus:function(){return a.onFocus?a.onFocus():{}},toolbar:Object.assign({},{options:a.options?a.options:["inline","blockType","fontSize","list","textAlign","colorPicker","link","embedded","remove","history"]})}),a.error&&r.a.createElement("div",{className:"flex flex-end margin-top form-control-error"},r.a.createElement("div",{className:"badge badge-error text-right txt-light txt-small"},r.a.createElement("i",{className:"fas fa-exclamation-circle margin-right"}),a.error)))}),D=function(e){var t=e.onSearch,a=e.initialValue,l=void 0===a?"":a,c=Object(n.useState)(l),o=Object(d.a)(c,2),i=o[0],s=o[1];return Object(n.useEffect)(function(){s(l)},[l]),r.a.createElement("div",{className:"flex-1 flex align-center"},r.a.createElement("div",{className:"flex-1"},r.a.createElement(k,{name:"keyword",placeholder:"Search keyword here...",value:i,onChange:function(e){return s(e.target.value)},onKeyEnter:function(){return t(i)}})),r.a.createElement("button",{className:"btn btn-pad-large txt-center margin-left-10",onClick:function(){return t(i)}},"Search"))},q=function(e){var t=0;if(e.link){var a=e.link.split(",").pop();try{t=a.split(";")[0].replace("http://localhost:3001/blogs?","").split("&").find(function(e){return e.includes("_page")}).replace("_page=","").replace("<","")}catch(n){t=0}}return parseInt(t)},K=function(){var e=Object(o.f)(),t=Object(n.useState)([]),a=Object(d.a)(t,2),c=a[0],i=a[1],s=Object(n.useState)(!1),g=Object(d.a)(s,2),p=g[0],f=g[1],E=Object(n.useState)({page:1,keyword:"",sort:""}),h=Object(d.a)(E,2),N=h[0],y=h[1],j=Object(n.useState)(0),O=Object(d.a)(j,2),C=O[0],k=O[1],w=function(e){var t="";return e.page&&(t+="page=".concat(e.page)),e.keyword&&(t+="&keyword=".concat(e.keyword)),"asc"===e.sort&&(t+="&sort=".concat(e.sort)),t},S=function(){var e="_page=".concat(N.page,"&_limit=9");N.keyword&&(e+="&title_like=".concat(N.keyword)),N.sort||(e+="&_sort=post_date&_order=desc"),b.a.get("http://localhost:3001/blogs?".concat(e)).then(function(e){k(q(e.headers)),e.data&&i(e.data)})};return Object(n.useEffect)(function(){f(!0),function(){var t={page:1,keyword:"",sort:""};e.location.search&&(t=v.a.parse(e.location.search)),t.page||(t.page=1),t.page=parseInt(t.page),t.sort||(t.sort=""),y(t)}()},[]),Object(n.useEffect)(function(){p&&S()},[N]),r.a.createElement("div",null,r.a.createElement("div",{className:"container-1200 margin-auto-h pad-top-50 pad-bottom-50"},r.a.createElement("div",{className:"flex flex-end"},r.a.createElement("div",null,r.a.createElement(l.b,{to:"/blog/create",className:"btn btn-pad-large btn-success txt-center"},"Create"))),r.a.createElement("div",{className:"txt-header-2 txt-bold margin-top-30 txt-center"},"Blogs"),r.a.createElement("div",{className:"margin-top-10"},r.a.createElement("div",{className:"flex-1"},r.a.createElement(D,{onSearch:function(t){var a=Object(u.a)({},N);a.page=1,a.keyword=t,e.push("?".concat(w(a))),y(a)},initialValue:N.keyword})),r.a.createElement("div",{className:"flex align-center flex-end margin-top-20"},r.a.createElement("div",{className:"margin-left-20"},r.a.createElement(l.b,{className:"btn ".concat(N.sort?"btn-clear-bordered-black":"","  btn-pad-large"),onClick:function(){return y(Object(u.a)({},N,{sort:""}))},to:"?".concat(w(Object(u.a)({},N,{sort:""})))},"Sort Descending")),r.a.createElement("div",{className:"margin-left-20"},r.a.createElement(l.b,{className:"btn ".concat(N.sort?"":"btn-clear-bordered-black","  btn-pad-large"),onClick:function(){return y(Object(u.a)({},N,{sort:"asc"}))},to:"?".concat(w(Object(u.a)({},N,{sort:"asc"})))},"Sort Ascending")))),r.a.createElement("div",{className:"margin-top-20 grid grid-3 grid-gap-20"},c.map(function(e){return r.a.createElement("div",{key:e.uuid},r.a.createElement(x,{blog:e,deleteCallback:S}))})),C?r.a.createElement("div",{className:"margin-top-100 flex align-center justify-center"},Object(m.a)(Array(C)).map(function(e,t){return r.a.createElement(l.b,{className:"btn btn-icon ".concat(t+1===N.page?"btn-success":"txt-dark"),onClick:function(){return y(Object(u.a)({},N,{page:t+1}))},to:"?".concat(w(Object(u.a)({},N,{page:t+1})))},t+1)})):null))},Y=function(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),a=t[0],c=t[1],i=Object(o.g)();return Object(n.useEffect)(function(){b.a.get("http://localhost:3001/blogs/".concat(i.uuid)).then(function(e){return e.data?c(e.data):{}})},[]),a?r.a.createElement("div",null,r.a.createElement("div",{style:{backgroundImage:"url(".concat(a.image,")"),backgroundSize:"cover",backgroundAttachment:"fixed",backgroundPosition:"center",backgroundColor:"#ccc",height:400}}),r.a.createElement("div",{className:"container-1200 margin-auto-h pad-top-50 pad-bottom-50"},r.a.createElement("div",{className:"margin-bottom-10"},r.a.createElement(l.b,{to:"/",className:"btn btn-clear-bordered-black txt-center"},"Go Back")),r.a.createElement("div",{className:"margin-top-30 txt-medium txt-uppercase"},a.category),r.a.createElement("div",{className:"txt-header-2 txt-bold"},a.title),r.a.createElement("div",{className:"margin-top"},"Posted by ",r.a.createElement("strong",null,a.author)),r.a.createElement("div",{className:"margin-top"},"Posted on ",r.a.createElement("strong",null,E.a.unix(a.post_date).format("MMM DD, YYYY"))),r.a.createElement("div",{className:"margin-top-50 txt-medium-large",style:{lineHeight:1.4},dangerouslySetInnerHTML:{__html:a.content}}))):null},T=a(114),P=a.n(T);var J=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*n));return t},z={properties:{title:{type:"string",required:!0,allowEmpty:!1,message:"This field is required"},content:{required:!0,conform:function(e){return!!e.replace(/(<([^>]+)>)|(?:\r\n|\r|\n)/gi,"")},message:"This field is required"},author:{type:"string",required:!0,allowEmpty:!1,message:"This field is required"},category:{type:"string",required:!0,allowEmpty:!1,message:"This field is required"}}},G=function(){var e=Object(o.g)(),t=Object(n.useState)({}),a=Object(d.a)(t,2),c=a[0],i=a[1],m=Object(n.useState)(!0),g=Object(d.a)(m,2),p=g[0],v=g[1],f=Object(n.useState)({}),h=Object(d.a)(f,2),x=h[0],N=h[1],y=function(e){var t=Object(u.a)({},c);t[e.target.name]=e.target.value,i(t)},j=function(){var t=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={},l=P.a.validate(e,t,a);return l.valid||l.errors.forEach(function(e){var t=function(e){for(var t=e.split("_"),a=0;a<t.length;a++)t[a]=t[a].charAt(0).toUpperCase()+t[a].slice(1);return t.join(" ")}(e.property);r[e.property]=n?"".concat(e.message):'"'.concat(t,'" ').concat(e.message)}),{valid:l.valid,errors:r}}(c,z);N(t.errors),t.valid&&(c.uuid?b.a.put("http://localhost:3001/blogs/".concat(e.uuid),c).then(function(e){return s.push("/")}):b.a.post("http://localhost:3001/blogs",Object(u.a)({},c,{uuid:J(20),post_date:E()().unix()})).then(function(e){return s.push("/")}))};return Object(n.useEffect)(function(){e.uuid?b.a.get("http://localhost:3001/blogs/".concat(e.uuid)).then(function(e){return e.data?i(e.data):{}}).finally(function(){return v(!1)}):v(!1)},[]),p?null:r.a.createElement("div",null,r.a.createElement("div",{className:"container-1200 margin-auto-h pad-top-50 pad-bottom-50"},r.a.createElement("div",{className:"txt-xlarge txt-bold txt-capitalize"},e.action," Blog"),r.a.createElement("div",{className:"margin-top-20"},r.a.createElement(k,{label:"Title",name:"title",value:c.title,onChange:y,onKeyEnter:j,error:x.title})),r.a.createElement("div",{className:"margin-top-20"},r.a.createElement(k,{label:"Category",name:"category",value:c.category,onChange:y,onKeyEnter:j,error:x.category})),r.a.createElement("div",{className:"margin-top-20"},r.a.createElement(k,{label:"Author",name:"author",value:c.author,onChange:y,onKeyEnter:j,error:x.author})),r.a.createElement("div",{className:"margin-top-20"},r.a.createElement(A,{label:"Content",placeholder:"Enter a content here...",name:"content",value:c.content_draft,onChange:y,onBlur:y,error:x.content})),r.a.createElement("div",{className:"margin-top-20"},r.a.createElement(k,{label:"Image",name:"image",value:c.image,onChange:y,onKeyEnter:j})),r.a.createElement("div",{className:"margin-top-50 flex space-between"},r.a.createElement(l.b,{to:"/",className:"btn btn-clear btn-pad-large txt-center txt-dark"},"Cancel"),r.a.createElement("button",{className:"btn btn-success btn-pad-large",onClick:j},"Submit"))))},R=Object(o.h)(function(){return r.a.createElement(o.b,{history:s},r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/"},r.a.createElement(K,null)),r.a.createElement(o.a,{path:"/blog/view/:uuid"},r.a.createElement(Y,null)),r.a.createElement(o.a,{path:"/blog/:action/:uuid?"},r.a.createElement(G,null))))});a(248);Object(c.render)(r.a.createElement(l.a,null,r.a.createElement(R,null)),document.getElementById("root"))}},[[116,1,2]]]);
//# sourceMappingURL=main.163694ea.chunk.js.map